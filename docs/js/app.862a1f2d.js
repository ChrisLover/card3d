(function(){"use strict";var e={1616:function(e,t,n){var i=n(6369),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"scenes",staticStyle:{position:"fixed",left:"0",top:"0","z-index":"10","pointer-events":"none",transition:"all 1s"},style:{transform:`translate3d(0, ${100*-e.index}vh, 0)`},attrs:{id:"canvasContainer"}},e._l(e.scenes,(function(n,i){return t("div",{key:i,staticStyle:{width:"100vw",height:"100vh"}},[t("h1",{staticStyle:{padding:"100px 50px","font-size":"50px",color:"white"}},[e._v(e._s(n.text))])])})),0)},a=[],r=(n(7658),n(1114)),s=n(8552),c=n(4543),d=n(9469),l=n(1989),u=n(2236),w=n(3803),h={name:"App",data(){return{scenes:[],index:0}},mounted(){document.getElementById("canvasContainer");const e=new r.xsS,t=new r.cPb(75,window.innerWidth/innerHeight,.1,1e3);t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),t.position.set(-3.23,2.98,4.06),e.add(t);const n=new r.CP7({antialias:!0});n.setSize(window.innerWidth,window.innerHeight),n.outputEncoding=r.knz,n.toneMapping=r.LY2,n.toneMappingExposure=.5,n.shadowMap.enabled=!0,n.physicallyCorrectLights=!0,document.body.appendChild(n.domElement);const o=new c.z(t,n.domElement);function a(){n.render(e,t),requestAnimationFrame(a),o.update()}o.target.set(-8,2,0),a(),document.addEventListener("resize",(()=>{n.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix()}));const h=new d.E,p=new l._;p.setDecoderPath("./draco/gltf/"),h.setDRACOLoader(p),h.load("./model/scene.glb",(t=>{const n=t.scene;n.traverse((e=>{"Plane"===e.name&&(e.visible=!1),e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)})),e.add(n)}));const f=new r.zf8(300,32),v=new w.B(f,{textureWidth:1024,textureHeight:1024,color:15658751,flowDirection:new r.FM8(1,1),scale:100});v.rotation.x=-Math.PI/2,v.position.y=-.4,e.add(v);const x=new r.Ox3(16777215,1);x.position.set(0,50,0),e.add(x);const m=new r.cek(16777215,50);m.position.set(.1,2.4,0),m.castShadow=!0,e.add(m);const P=new r.ZAu;P.position.set(-8,2.5,-1.5);let y=[],g=3;for(let i=0;i<3;i++){const e=new r.xo$(.2,32,32),t=new r.vBJ({color:16777215,emissive:16777215,emissiveIntensity:10}),n=new r.Kj0(e,t);y.push(n),n.position.set(g*Math.cos(2*i*Math.PI/3),Math.cos(2*i*Math.PI/3),g*Math.sin(2*i*Math.PI/3));let o=new r.cek(16777215,50);n.add(o),P.add(n)}e.add(P);const b=new u.x;b.loadAsync("./textures/sky.hdr").then((t=>{t.mapping=r.dSO,e.background=t,e.environment=t}));let M={angle:0};s.ZP.to(M,{angle:2*Math.PI,duration:10,repeat:-1,ease:"linear",onUpdate:()=>{P.rotation.y=M.angle,y.forEach(((e,t)=>{e.position.set(g*Math.cos(2*t*Math.PI/3),Math.cos(2*t*Math.PI/3+M.angle),g*Math.sin(2*t*Math.PI/3))}))}});let z=[{text:"生日快乐! JJJ",callback:()=>{S(new r.Pa4(-3.23,3,4.06),new r.Pa4(-8,2,0))}},{text:"感谢在这么大的世界里遇见了你",callback:()=>{S(new r.Pa4(7,0,23),new r.Pa4(0,0,0))}},{text:"愿与你探寻世界的每一个角落",callback:()=>{S(new r.Pa4(10,3,0),new r.Pa4(5,2,0))}},{text:"愿将天上的星星送给你",callback:()=>{S(new r.Pa4(7,0,23),new r.Pa4(0,0,0)),_()}},{text:"平安喜乐，简单幸福!",callback:()=>{S(new r.Pa4(-20,1.3,6.6),new r.Pa4(5,2,0))}}];this.scenes=z;let k=(0,i.iH)(0);this.index=k;let O=!1;window.addEventListener("wheel",(e=>{O||(O=!0,e.deltaY>0&&(k.value++,k.value>z.length-1&&(k.value=0,H()),z[k.value].callback(),setTimeout((()=>{O=!1}),1e3)))}));let C=s.ZP.timeline(),I=s.ZP.timeline();function S(e,n){C.to(t.position,{x:e.x,y:e.y,z:e.z,duration:1,ease:"power2.inOut"}),I.to(o.target,{x:n.x,y:n.y,z:n.z,duration:1,ease:"power2.inOut"})}let T=new r.SPe(new r.xo$(.1,32,32),new r.Wid({color:16777215,emissive:16777215,emissiveIntensity:10}),100),E=[],j=[];for(let i=0;i<100;i++){let e=100*Math.random()-50,t=100*Math.random()-50,n=100*Math.random()-50;E.push(new r.Pa4(e,t,n));let o=new r.yGw;o.setPosition(e,t,n),T.setMatrixAt(i,o)}e.add(T);let Z=new r.bnF;Z.moveTo(25,25),Z.bezierCurveTo(25,25,20,0,0,0),Z.bezierCurveTo(-30,0,-30,35,-30,35),Z.bezierCurveTo(-30,55,-10,77,25,95),Z.bezierCurveTo(60,77,80,55,80,35),Z.bezierCurveTo(80,35,80,0,50,0),Z.bezierCurveTo(35,0,25,25,25,25);let A=new r.Pa4(0,2,10);for(let i=0;i<100;i++){let e=Z.getPoint(i/100);j.push(new r.Pa4(.1*e.x+A.x,.1*e.y+A.y,A.z))}function _(){let e={time:0};s.ZP.to(e,{time:1,duration:1,onUpdate:()=>{for(let t=0;t<100;t++){let n=E[t].x+(j[t].x-E[t].x)*e.time,i=E[t].y+(j[t].y-E[t].y)*e.time,o=E[t].z+(j[t].z-E[t].z)*e.time,a=new r.yGw;a.setPosition(n,i,o),T.setMatrixAt(t,a)}T.instanceMatrix.needsUpdate=!0}})}function H(){let e={time:0};s.ZP.to(e,{time:1,duration:1,onUpdate:()=>{for(let t=0;t<100;t++){let n=j[t].x+(E[t].x-j[t].x)*e.time,i=j[t].y+(E[t].y-j[t].y)*e.time,o=j[t].z+(E[t].z-j[t].z)*e.time,a=new r.yGw;a.setPosition(n,i,o),T.setMatrixAt(t,a)}T.instanceMatrix.needsUpdate=!0}})}}},p=h,f=n(1001),v=(0,f.Z)(p,o,a,!1,null,null,null),x=v.exports;i.ZP.config.productionTip=!1,new i.ZP({render:e=>e(x)}).$mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,a){if(!i){var r=1/0;for(l=0;l<e.length;l++){i=e[l][0],o=e[l][1],a=e[l][2];for(var s=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[i,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,r=i[0],s=i[1],c=i[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(t&&t(i);d<r.length;d++)a=r[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},i=self["webpackChunkcard"]=self["webpackChunkcard"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(1616)}));i=n.O(i)})();
//# sourceMappingURL=app.862a1f2d.js.map